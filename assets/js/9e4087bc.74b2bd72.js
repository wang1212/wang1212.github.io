"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([["7293"],{34969:function(t,e,a){a.r(e),a.d(e,{default:()=>y});var r=a(85893);let n={word:"word_GzE5",hide:"hide_EHwi","tag-list":"tag-list_KMlQ"};var s=a(67294),l=a(83012),o=a(3379),i=a(59152),c=a(53708),u=a(67026),d=a(80647);let m=["\u4EBA\u4E0D\u5E94\u8BE5\u662F\u63D2\u5728\u82B1\u74F6\u91CC\u4F9B\u4EBA\u89C2\u8D4F\u7684\u9759\u7269\uFF0C\u800C\u662F\u8513\u5EF6\u5728\u8349\u539F\u4E0A\u968F\u98CE\u8D77\u821E\u7684\u97F5\u5F8B\u3002\u751F\u547D\u4E0D\u662F\u5B89\u6392\uFF0C\u800C\u662F\u8FFD\u6C42\uFF0C\u4EBA\u751F\u7684\u610F\u4E49\u4E5F\u8BB8\u6C38\u8FDC\u6CA1\u6709\u7B54\u6848\uFF0C\u4F46\u4E5F\u8981\u5C3D\u60C5\u611F\u53D7\u8FD9\u79CD\u6CA1\u6709\u7B54\u6848\u7684\u4EBA\u751F\u3002","\u5176\u5B9E\u6211\u4EEC\u6BCF\u4E2A\u4EBA\u7684\u751F\u6D3B\u90FD\u662F\u4E00\u4E2A\u4E16\u754C\uFF0C\u5373\u4F7F\u6700\u5E73\u51E1\u7684\u4EBA\u4E5F\u8981\u4E3A\u4ED6\u751F\u6D3B\u7684\u90A3\u4E2A\u4E16\u754C\u800C\u594B\u6597\u3002","\u4EBA\u4E00\u8F88\u5B50\u6700\u73CD\u8D35\u7684\u54C1\u8D28\u5176\u5B9E\u5C31\u4E24\u6837\uFF1A\u4E00\u4E2A\u662F\u70ED\u8840\uFF0C\u4E00\u4E2A\u662F\u5929\u771F\u3002","\u4F60\u4E0D\u80FD\u56E0\u4E3A\u81EA\u5DF1\u53D8\u6210\u4E86\u4E0D\u75DB\u4E0D\u75D2\u7684\u4EBA\uFF0C\u5C31\u53BB\u5632\u7B11\u90A3\u4E9B\u7231\u6068\u5206\u660E\u7684\u4EBA\u3002","\u5C0A\u91CD\u90A3\u4E9B\u4E0E\u4F60\u6297\u4E89\u7684\u4EBA\uFF0C\u56E0\u4E3A\u4F60\u4E89\u7684\u662F\u7406\uFF0C\u4E0D\u662F\u53BB\u635F\u6BC1\u5BF9\u65B9\u7684\u4EBA\u683C\u3002","\u68A6\u60F3\u8FD9\u4E1C\u897F\u4E0E\u7ECF\u5178\u4E00\u6837\uFF0C\u6C38\u8FDC\u4E0D\u4F1A\u56E0\u65F6\u95F4\u800C\u892A\u8272\uFF0C\u53CD\u800C\u66F4\u663E\u73CD\u8D35\u3002","\u6211\u4EEC\u8D70\u8FC7\u7684\u6BCF\u4E00\u6B65\u4E0D\u4E00\u5B9A\u662F\u5B8C\u7F8E\u7684\uFF0C\u4F46\u6BCF\u4E00\u6B65\u90FD\u6709\u503C\u5F97\u6DF1\u601D\u7684\u610F\u4E49\u3002","\u505A\u751F\u6D3B\u7684\u5BFC\u6F14\uFF0C\u4E0D\u6210\uFF1B\u6B21\u4E4B\uFF0C\u505A\u6F14\u5458\uFF1B\u518D\u6B21\u4E4B\uFF0C\u505A\u89C2\u4F17\u3002","\u8F6F\u4EF6\u53EA\u662F\u4E00\u79CD\u5E2E\u52A9\u4EBA\u4EEC\u5B8C\u6210\u67D0\u4E9B\u4E8B\u60C5\u7684\u5DE5\u5177\u2014\u2014\u8BB8\u591A\u7A0B\u5E8F\u5458\u4ECE\u6765\u4E0D\u7406\u89E3\u8FD9\u4E00\u70B9\u3002\u5173\u6CE8\u4EA4\u4ED8\u7684\u4EF7\u503C\uFF0C\u4E0D\u8981\u8FC7\u5206\u5173\u6CE8\u5DE5\u5177\u7684\u7EC6\u8282 - John Carmack",'const res = ["\uD83D\uDC68", "\u200D", "\uD83D\uDC69", "\u200D", "\uD83D\uDC67", "\u200D", "\uD83D\uDC66"].join(\'\'); console.log(res);'],h="\u5C81\u6708\u7559\u75D5",g=()=>m[Math.floor(Math.random()*m.length)];function b(t){let{post:e}=t;return(0,r.jsxs)("li",{children:[(0,r.jsx)(l.Z,{to:e.metadata.permalink,children:(0,r.jsx)("div",{children:e.metadata.title})}),(0,r.jsxs)("div",{style:{opacity:.5},children:[(0,r.jsxs)("small",{children:["\u53D1\u5E03\u4E8E ",(0,d.ti)(e.metadata.frontMatter.date)]})," ",e.metadata.frontMatter.update!==e.metadata.frontMatter.date?(0,r.jsxs)("small",{children:["\u6700\u540E\u66F4\u65B0\u4E8E"," ",(0,d.ti)(e.metadata.frontMatter.update)]}):""]})]})}function f(t){let{year:e,month:a,posts:n}=t,[s,l]=(0,c.u)();return(0,r.jsxs)("section",{className:"_js-month",children:[(0,r.jsxs)("h4",{children:[(0,r.jsx)("small",{style:{color:"var(--ifm-color-secondary)"},children:e})," ",a," \u6708"]}),(0,r.jsx)("ul",{ref:s,children:n.map(t=>(0,r.jsx)(b,{post:t},t.metadata.permalink))})]})}function p(t,e){return Array.from(t.reduceRight((t,a)=>{let r=a.metadata.frontMatter[e].split("-")[1],n=t.get(r)??[];return t.set(r,[a,...n])},new Map),t=>{let[a,r]=t;return{month:a,posts:r.sort((t,a)=>new Date(a.metadata.frontMatter[e]).getTime()-new Date(t.metadata.frontMatter[e]).getTime())}}).sort((t,e)=>Number(e.month)-Number(t.month))}function x(t){let{year:e,posts:a,sortBy:n}=t,[l,o]=(0,s.useState)(a.length<=10),i=p(a,n).flatMap(t=>t.posts),u=p(l?i:i.slice(0,10),n),[d]=(0,c.u)();return(0,r.jsxs)("section",{className:"_js-year col col--4 margin-bottom--lg",children:[(0,r.jsxs)("h3",{children:[e," \u5E74"]}),(0,r.jsx)("div",{ref:d,children:u.map(t=>(0,r.jsx)(f,{year:e,...t},t.month))}),a.length>10&&(0,r.jsx)("button",{className:"button button--sm button--outline button--primary margin-top--md",onClick:()=>{o(!l)},children:l?"\u6536\u8D77\u90E8\u5206\u6587\u7AE0":`\u{5C55}\u{5F00}\u{5176}\u{4F59} ${a.length-10} \u{7BC7}...`})]})}function j(t){let{years:e,sortBy:a,tag:n,updateSortBy:s,loadMoreRef:l,hasMore:o}=t,[i,d]=(0,c.u)();return 0===e.length?null:(0,r.jsx)("section",{className:"margin-bottom--lg",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("nav",{className:"margin-bottom--md",style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,r.jsx)("button",{title:"\u6309\u53D1\u5E03\u65F6\u95F4\u6392\u5E8F",className:(0,u.Z)("button button--sm button--primary","date"!==a&&"button--outline","margin-right--sm"),onClick:()=>s("date"),children:"\u53D1\u5E03\u65F6\u95F4"}),(0,r.jsx)("button",{title:"\u6309\u66F4\u65B0\u65F6\u95F4\u6392\u5E8F",className:(0,u.Z)("button button--sm button--primary","update"!==a&&"button--outline"),onClick:()=>s("update"),children:"\u66F4\u65B0\u65F6\u95F4"}),n&&(0,r.jsx)("span",{className:"badge badge--secondary",style:{marginLeft:"auto"},children:n})||""]}),(0,r.jsx)("div",{ref:i,className:"row",children:e.map(t=>(0,r.jsx)(x,{...t},t.year))}),o&&(0,r.jsx)("div",{ref:l,className:"margin-vert--lg",style:{textAlign:"center"},children:"\u52A0\u8F7D\u66F4\u591A..."})]})})}function y(t){let[e]=(0,s.useState)(g()),[l,c]=(0,s.useState)(!0),[d,m]=(0,s.useState)(null),[b,f]=(0,s.useState)("update"),[p,x]=(0,s.useState)([]),[y,w]=(0,s.useState)([]),[v,N]=(0,s.useState)(1),S=(0,s.useRef)(null),C=Array.from(function(t){let e=new Map;return t.forEach(t=>{(t.metadata.tags||[]).forEach(t=>{let a=e.get(t.label);e.has(t.label)||(a={item:t,count:0}),a.count++,e.set(t.label,a)})}),e}(t.archive.blogPosts),t=>{let[e,a]=t;return[e,a.count]}),M=(0,s.useCallback)(t=>{m(e=>{let a=new URLSearchParams(window.location.search),r=e===t?null:t;return null===r?a.delete("tag"):a.set("tag",r),window.history.replaceState({tag:r},"",`${window.location.pathname}?${a.toString()}`),r})},[m]);(0,s.useEffect)(()=>{m(window.history?.state?.tag||null)},[m]),(0,s.useEffect)(()=>{let t=a(85083);return t(document.getElementById("wordcloud"),{list:C.filter(t=>t[1]>1),classes:n.word,backgroundColor:"transparent",shape:"square",weightFactor:2,rotateRatio:.5,rotationSteps:2,fontFamily:"Impact",color:"random-light",gridSize:Math.round(24*document.getElementById("wordcloud").getBoundingClientRect().width/1024),shrinkToFit:!0,click(t){M(t[0])}}),()=>{t.stop()}},[M,C]),(0,s.useEffect)(()=>{var e;let a=(e=d?t.archive.blogPosts.filter(t=>t.metadata.frontMatter.tags.includes(d)):t.archive.blogPosts,Array.from(e.reduceRight((t,e)=>{let a=e.metadata.frontMatter[b].split("-")[0],r=t.get(a)??[];return t.set(a,[e,...r])},new Map),t=>{let[e,a]=t;return{year:e,posts:a,sortBy:b}}).sort((t,e)=>Number(e.year)-Number(t.year)));x(a),w(a.slice(0,3)),N(1)},[d,b,t.archive.blogPosts]);let D=(0,s.useCallback)(()=>{N(t=>{let e=t+1;return w(p.slice(0,3*e)),e})},[p]);return(0,s.useEffect)(()=>{let t=new IntersectionObserver(t=>{t[0].isIntersecting&&y.length<p.length&&D()},{rootMargin:"200px"}),e=S.current;return e&&t.observe(e),()=>{e&&t.unobserve(e)}},[y,p,D]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(o.Z,{title:h,description:e,children:[(0,r.jsx)(i.Z,{}),(0,r.jsx)("header",{className:"hero hero--primary",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h1",{className:"hero__title",children:h}),(0,r.jsx)("p",{className:"hero__subtitle",children:e})]})}),(0,r.jsx)("main",{children:t.archive.blogPosts.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("section",{className:"margin-vert--lg",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("nav",{className:"margin-bottom--md",children:(0,r.jsx)("button",{className:(0,u.Z)("button button--sm button--primary",!l&&"button--outline"),onClick:()=>c(!l),children:"\u6807\u7B7E\u4E91"})}),(0,r.jsx)("section",{className:(0,u.Z)(!l&&n.hide),children:(0,r.jsx)("div",{id:"wordcloud",style:{width:"100%",height:"400px"}})}),(0,r.jsx)("section",{className:(0,u.Z)(l&&n.hide),children:(0,r.jsx)("ul",{className:n["tag-list"],children:C.slice().sort((t,e)=>e[1]-t[1]).map(t=>(0,r.jsxs)("li",{className:`button button--sm button--outline button--secondary ${d===t[0]?"button--active":""}`,onClick:()=>M(t[0]),children:[t[0]," ",t[1]>1&&t[1]]},t[0]))})}),(0,r.jsx)("hr",{className:"margin-vert--lg",style:{opacity:.25}})]})}),(0,r.jsx)(j,{sortBy:b,updateSortBy:f,tag:d,years:y,loadMoreRef:S,hasMore:y.length<p.length})]}):""})]})})}},80647:function(t,e,a){function r(t){let e=new Date(t.getFullYear(),0,0);return Math.floor((t.getTime()-e.getTime())/864e5)}function n(t){return t.split(/[^\d]+/).slice(0,3).map(t=>t.padStart(2,"0")).join("-")}function s(t){let e=new Date(t),a=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0"),n=String(e.getUTCDate()).padStart(2,"0"),s=String(e.getUTCHours()).padStart(2,"0"),l=String(e.getUTCMinutes()).padStart(2,"0"),o=String(e.getUTCSeconds()).padStart(2,"0");return`${a}-${r}-${n} ${s}:${l}:${o}`}a.d(e,{cz:()=>s,ti:()=>n,vz:()=>r})}}]);