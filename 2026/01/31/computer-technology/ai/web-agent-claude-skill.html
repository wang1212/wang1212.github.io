<!doctype html><html lang=zh-Hans dir=ltr class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>为 Web 环境 Agent 设计 Claude Skills 扩展系统 | 不如怀念</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://wang1212.github.io/2026/01/31/computer-technology/ai/web-agent-claude-skill /><meta data-rh=true property=og:locale content=zh_Hans /><meta data-rh=true name=docusaurus_locale content=zh-Hans /><meta data-rh=true name=docusaurus_tag content=default /><meta data-rh=true name=docsearch:language content=zh-Hans /><meta data-rh=true name=docsearch:docusaurus_tag content=default /><meta data-rh=true property=og:title content="为 Web 环境 Agent 设计 Claude Skills 扩展系统 | 不如怀念"/><meta data-rh=true name=description content="基于 Vercel AI SDK，探索如何将 Claude Skills 扩展架构应用于 Web 环境的 Agent 开发，解决浏览器环境下的 Skills 系统设计问题。"/><meta data-rh=true property=og:description content="基于 Vercel AI SDK，探索如何将 Claude Skills 扩展架构应用于 Web 环境的 Agent 开发，解决浏览器环境下的 Skills 系统设计问题。"/><meta data-rh=true name=keywords content="AI,Agent,Vercel AI SDK,Claude Skills,Web开发,架构设计"/><meta data-rh=true property=og:type content=article /><meta data-rh=true property=article:published_time content=2026-01-31T23:40:00.000Z /><meta data-rh=true property=article:author content=https://github.com/wang1212 /><meta data-rh=true property=article:tag content="AI,Agent,Vercel AI SDK,Claude Skills,Web开发,架构设计"/><link data-rh=true rel=icon href=/img/favicon.ico /><link data-rh=true rel=canonical href=https://wang1212.github.io/2026/01/31/computer-technology/ai/web-agent-claude-skill /><link data-rh=true rel=alternate href=https://wang1212.github.io/2026/01/31/computer-technology/ai/web-agent-claude-skill hreflang=zh-Hans /><link data-rh=true rel=alternate href=https://wang1212.github.io/2026/01/31/computer-technology/ai/web-agent-claude-skill hreflang=x-default /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@id":"https://wang1212.github.io/2026/01/31/computer-technology/ai/web-agent-claude-skill","@type":"BlogPosting","author":{"@type":"Person","description":"Web 前端工程师 (Web Front-end Engineer)","email":"mrwang1212@126.com","image":"/img/authors/wang1212.png","name":"不如怀念","url":"https://github.com/wang1212"},"datePublished":"2026-01-31T23:40:00.000Z","description":"基于 Vercel AI SDK，探索如何将 Claude Skills 扩展架构应用于 Web 环境的 Agent 开发，解决浏览器环境下的 Skills 系统设计问题。","headline":"为 Web 环境 Agent 设计 Claude Skills 扩展系统","isPartOf":{"@id":"https://wang1212.github.io/","@type":"Blog","name":"Blog"},"keywords":["AI","Agent","Vercel AI SDK","Claude Skills","Web开发","架构设计"],"mainEntityOfPage":"https://wang1212.github.io/2026/01/31/computer-technology/ai/web-agent-claude-skill","name":"为 Web 环境 Agent 设计 Claude Skills 扩展系统","url":"https://wang1212.github.io/2026/01/31/computer-technology/ai/web-agent-claude-skill"}</script><link rel=alternate type=application/rss+xml href=/rss.xml title="不如怀念 RSS Feed"><link rel=alternate type=application/atom+xml href=/atom.xml title="不如怀念 Atom Feed"><link rel=stylesheet href=/assets/css/styles.657f7b25.css /><script src=/assets/js/runtime~main.f587fbb9.js defer></script><script src=/assets/js/main.1dccaec6.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/img/authors/wang1212.png /><div role=region aria-label=跳到主要内容><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>跳到主要内容</a></div><nav aria-label=主导航 class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label=切换导航栏 aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><b class="navbar__title text--truncate">不如怀念</b></a><a class="navbar__item navbar__link" href=/archive>归档</a><a class="navbar__item navbar__link" href=/timeline>历程</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://wang1212.github.io/awesome-favorites-list target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">精选资源<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class="navbar__search searchBarContainer_NW3z" dir=ltr><input placeholder=搜索 aria-label=Search class="navbar__search-input searchInput_YFbd" value="" /><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class=row><main class="col col--9 col--offset-1"><article class=""><header><h1 class=title_f1Hy>为 Web 环境 Agent 设计 Claude Skills 扩展系统</h1><div class="container_mt6G margin-vert--md"><time datetime=2026-01-31T23:40:00.000Z>2026年1月31日</time> · <!-- -->阅读需 11 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href=https://github.com/wang1212 target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_XqGP" src=/img/authors/wang1212.png alt=不如怀念 /></a><div class="avatar__intro authorDetails_lV9A"><div class=avatar__name><a href=https://github.com/wang1212 target=_blank rel="noopener noreferrer"><span class=authorName_yefp translate=no>不如怀念</span></a></div><small class=authorTitle_nd0D title="Web 前端工程师 (Web Front-end Engineer)">Web 前端工程师 (Web Front-end Engineer)</small><div class=authorSocials_rSDt><a href=https://github.com/wang1212 target=_blank rel="noopener noreferrer" class=authorSocialLink_owbf title=GitHub><svg xmlns=http://www.w3.org/2000/svg width=1em height=1em viewBox="0 0 256 250" preserveAspectRatio=xMidYMid style=--dark:#000;--light:#fff class="authorSocialIcon_XYv3 githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"/></svg></a><a href=https://x.com/wang1212x target=_blank rel="noopener noreferrer" class=authorSocialLink_owbf title=X><svg xmlns=http://www.w3.org/2000/svg width=1em height=1em fill=none viewBox="0 0 1200 1227" style=--dark:#000;--light:#fff class="authorSocialIcon_XYv3 xSvg_y3PF"><path d="M714.163 519.284 1160.89 0h-105.86L667.137 450.887 357.328 0H0l468.492 681.821L0 1226.37h105.866l409.625-476.152 327.181 476.152H1200L714.137 519.284h.026ZM569.165 687.828l-47.468-67.894-377.686-540.24h162.604l304.797 435.991 47.468 67.894 396.2 566.721H892.476L569.165 687.854v-.026Z"/></svg></a><a href=https://www.reddit.com/user/Warm_Salt_2251 target=_blank rel="noopener noreferrer" class=authorSocialLink_owbf title=reddit><svg xmlns=http://www.w3.org/2000/svg width=1em height=1em viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class=authorSocialIcon_XYv3><path stroke=none d="M0 0h24v24H0z" fill=none /><path d="M1.2 12a10.8 10.8 0 1 0 21.6 0a10.8 10.8 0 0 0 -21.6 0"/><path d="M1.92 8.4h20.16"/><path d="M1.92 15.6h20.16"/><path d="M11.4 1.2a20.4 20.4 0 0 0 0 21.6"/><path d="M12.6 1.2a20.4 20.4 0 0 1 0 21.6"/></svg></a><a href=https://www.xiaohongshu.com/user/profile/5e4130cb00000000010023fd target=_blank rel="noopener noreferrer" class=authorSocialLink_owbf title=rednote><svg xmlns=http://www.w3.org/2000/svg width=1em height=1em viewBox="0 0 24 24" fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class=authorSocialIcon_XYv3><path stroke=none d="M0 0h24v24H0z" fill=none /><path d="M1.2 12a10.8 10.8 0 1 0 21.6 0a10.8 10.8 0 0 0 -21.6 0"/><path d="M1.92 8.4h20.16"/><path d="M1.92 15.6h20.16"/><path d="M11.4 1.2a20.4 20.4 0 0 0 0 21.6"/><path d="M12.6 1.2a20.4 20.4 0 0 1 0 21.6"/></svg></a></div></div></div></div></div></header><blockquote>最后更新于 <!-- -->2026-01-31 23:40:00</blockquote><div id=__blog-post-container class=markdown><p>一些基于 Vercel AI SDK 将 Claude Skills 扩展架构移植到 Web 环境的 Agent 开发实践经验。Claude Skills 提供了比 MCP 更灵活的 Agent 扩展机制，但官方实现依赖本地文件系统等环境。如何让它在浏览器里跑起来？</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=agent-的插件机制>Agent 的插件机制<a href=#agent-的插件机制 class=hash-link aria-label="Agent 的插件机制的直接链接" title="Agent 的插件机制的直接链接" translate=no>​</a></h2>
<p>Claude Skills 是一种扩展 Agent 能力的插件机制。类似的机制在其他编码工具中也有实现，如 Gemini CLI 的扩展系统、Codex CLI 的工具集等。但 Claude Skills 在近期获得了更高的关注度，这与 Claude 在编码领域的领先表现密切相关。</p>
<p>相比传统的 MCP（Model Context Protocol），Claude Skills 的核心优势在于其<strong>渐进式披露</strong>策略。MCP 将所有 Tools 的描述一次性注入上下文，当 Tool 数量增加时，容易导致上下文窗口溢出。而 Claude Skills 采用分层暴露机制：模型首先仅获知有哪些 Skill 可用，仅在明确调用时才加载对应 Skill 的 <em>Skill.md</em>。这种按需加载的模式有效缓解了上下文爆炸问题。</p>
<p>然而，Claude Skills 的官方实现深度依赖本地文件系统（通过文件目录组织 Skill 模块），这天然限制了其在 Web 环境的适用性。浏览器缺乏直接访问本地文件系统的能力，也无法通过文件路径解析模块结构。因此，将 Claude Skills 架构迁移到 Web 环境需要重新设计存储层和模块加载机制。</p>
<p>下文将基于 Vercel AI SDK 的实践，探讨如何在浏览器环境中实现一套类似 Claude Skills 规范的扩展系统。</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=claude-skills-的环境依赖>Claude Skills 的环境依赖<a href=#claude-skills-的环境依赖 class=hash-link aria-label="Claude Skills 的环境依赖的直接链接" title="Claude Skills 的环境依赖的直接链接" translate=no>​</a></h2>
<p>理解 Claude Skills 的环境依赖，需要先看清楚一个 Skill 的完整结构。根据官方规范，一个典型的 Skill 文件组织如下：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">my-skill/</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">├── SKILL.md              # 核心文件（包含 YAML frontmatter + 指令内容）</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">├── scripts/              # 可执行脚本（Python、Bash 等）</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│   ├── init_skill.py</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│   └── validate.py</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">├── references/           # 参考文档</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">│   └── api-reference.md</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">└── assets/               # 模板和资源文件</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    └── template.json</span><br/></span></code></pre></div></div>
<p>Claude Skills 架构对运行环境有两项核心依赖：</p>
<p><strong>1. 文件系统</strong></p>
<p><em>SKILL.md</em> 中会引用 <em>scripts/</em>、<em>references/</em>、<em>assets/</em> 目录下的文件。例如：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">python {baseDir}/scripts/init_skill.py</span><br/></span></code></pre></div></div>
<p>这种引用机制要求底层提供文件系统能力，能够按路径定位并读取这些分散的文件。没有文件系统，Skill 无法加载其依赖的脚本和资源。</p>
<p><strong>2. 代码执行环境</strong></p>
<p><em>scripts/</em> 目录包含的可执行脚本需要运行时环境。Claude Code 的实现依赖 Bash tool 来执行这些脚本，提供：</p>
<ul>
<li class="">进程隔离能力</li>
<li class="">受限的权限控制（通过 <code>allowed-tools</code> 配置）</li>
<li class="">标准化的脚本执行接口</li>
</ul>
<p>Web 浏览器天然缺乏这两类能力：无法直接操作本地文件系统，也没有类似 Node.js 的进程模型来执行外部脚本。这意味着将 Claude Skills 迁移到 Web 环境时，必须重新设计存储层（替代文件系统）和执行层（替代沙箱环境）。</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=web-环境的替代方案>Web 环境的替代方案<a href=#web-环境的替代方案 class=hash-link aria-label="Web 环境的替代方案的直接链接" title="Web 环境的替代方案的直接链接" translate=no>​</a></h3>
<p>恰好 Vercel 近期发布了一篇<a href=https://vercel.com/blog/how-to-build-agents-with-filesystems-and-bash target=_blank rel="noopener noreferrer" class="">博文</a>，介绍了为 Agent 提供 bash 和 file 工具将大大增强其能力。其背后的逻辑是：LLM 在预训练阶段已经对命令行操作和文件系统操作建立了深刻的理解，这些是最基础、最普遍的计算机交互范式。</p>
<p>基于这个思路，Vercel 为 AI SDK 构建并发布了 <code>bash-tool</code>。但实测后发现，这些工具依赖 Node.js 运行时，无法在浏览器环境中直接使用。不过这提供了很好的思路：我们可以在 Web 环境中实现虚拟的 bash 和虚拟文件系统。</p>
<ul>
<li class=""><strong>虚拟文件系统</strong>：使用 IndexedDB 或 Memory Storage 模拟文件树结构，提供类似 <code>readFile</code>、<code>writeFile</code>、<code>glob</code>、<code>grep</code> 等文件操作接口。这样 <em>SKILL.md</em> 中的 <code>{baseDir}</code> 引用就可以映射到虚拟路径上。</li>
<li class=""><strong>虚拟 Bash</strong>：实现一个支持常用命令（<code>ls</code>、<code>cat</code>、<code>mkdir</code>、<code>rm</code> 等）的轻量级命令解析器，将命令映射到虚拟文件系统的操作上。复杂的脚本逻辑则可以用 JavaScript/TypeScript 在沙箱中执行。</li>
</ul>
<p>另外，Claude Skills 中 <em>scripts/</em> 目录的本质——工程代码实现，其实与 Vercel AI SDK 的 Tool 概念是一致的。Tool 就是一个可调用的函数，接收参数、执行逻辑、返回结果。因此，我们可以直接用 AI SDK 的 Tool 机制来替代 <em>scripts</em> 的概念：<strong>每个 Skill 注册一组 Tools，当 Skill 被调用时，这些 Tools 对模型可用。</strong></p>
<p>这样，存储层（虚拟文件系统）+ 执行层（Tool 机制）的组合，基本上就解决了在 Web 环境中实现类似 Claude Skills 插件机制的核心依赖问题。</p>
<!-- -->
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=插件机制设计>插件机制设计<a href=#插件机制设计 class=hash-link aria-label=插件机制设计的直接链接 title=插件机制设计的直接链接 translate=no>​</a></h2>
<p>Vercel AI SDK 提供了非常灵活的基础能力：<code>ToolLoopAgent</code> 支持 agent loop，<code>tools</code> 参数支持外部工具注册。这些能力实际上构成了 Agent 设计的核心模块——无论是早期的 Function Call、后来的 MCP，还是现在的 Claude Skills，本质上都是 LLM 的模型服务调用循环和外部工具调用的组合。</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=skills-作为元工具>Skills 作为元工具<a href=#skills-作为元工具 class=hash-link aria-label="Skills 作为元工具的直接链接" title="Skills 作为元工具的直接链接" translate=no>​</a></h3>
<p>实现一个支持 Skills 的 Agent，核心思路是将 Skills 抽象为一个特殊的 Tool，不妨称之为 <strong>Skill Tool</strong>。这个 Tool 的职责是为 Agent 提供 Skills 的动态发现和激活能力：</p>
<p><strong>1. 动态发现</strong></p>
<p>Skill Tool 的描述（description）需要包含所有已注册 Skills 的名称和描述。当模型收到用户输入时，会先看到这个 Skill Tool 的描述，从而了解有哪些 Skills 可用。</p>
<p><strong>2. 激活机制</strong></p>
<p>Skill Tool 接受一个参数 <code>skill_name</code>，当模型决定调用某个 Skill 时，会触发 Skill Tool 并传入对应的名称。Skill Tool 根据名称查找并返回：</p>
<ul>
<li class=""><em>SKILL.md</em> 的内容（注入到上下文中）</li>
<li class="">该 Skill 关联的 Tools 列表</li>
<li class="">可选的 references 和 assets</li>
</ul>
<p><strong>3. 动态工具注册</strong></p>
<p>这里有一个关键难点：<strong>Skills 被激活后，其对应的 Tools 需要动态加入到 Agent 的可用工具集中。</strong> 幸运的是，AI SDK 已经提供了动态工具切换的能力（<code>activeTools</code> 配置），让我们可以根据 Skills 的激活状态实时调整可用工具列表。</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=skill-registry-设计>Skill Registry 设计<a href=#skill-registry-设计 class=hash-link aria-label="Skill Registry 设计的直接链接" title="Skill Registry 设计的直接链接" translate=no>​</a></h3>
<p>为了支持上述机制，我们需要实现一个 <strong>Skill Registry</strong>（Skill 注册中心），其核心职责包括：</p>
<ul>
<li class=""><strong>Skill 注册</strong>：支持预先注册（built-in skills）和动态注册（user-added skills）</li>
<li class=""><strong>Skill 查询</strong>：根据名称查找 Skill 的元数据和资源</li>
<li class=""><strong>状态管理</strong>：维护每个 Skill 的激活状态（active/inactive）</li>
<li class=""><strong>工具聚合</strong>：根据当前激活的 Skills，返回合并后的可用工具列表</li>
</ul>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>interface</span><span class="token plain"> </span><span class="token class-name">SkillRegistry</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// 注册 Skill</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>register</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">skill</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Skill</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>void</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// 激活 Skill，返回 SKILL.md</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>activate</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">skillName</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Skill</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// 获取所有可用 Tools Id</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>getAvailableTools</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// 获取所有 Skills 的 Tools</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>getAllSkillsToolSets</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> Toolset</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// 生成 Skill Tool 的描述（用于模型发现）</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function" style=color:#d73a49>getSkillToolDescription</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=调用流程>调用流程<a href=#调用流程 class=hash-link aria-label=调用流程的直接链接 title=调用流程的直接链接 translate=no>​</a></h3>
<ol>
<li class=""><strong>初始化</strong>：所有 Skills 注册到 Skill Registry，但只有 Skill Tool 暴露给模型</li>
<li class=""><strong>发现阶段</strong>：模型通过 Skill Tool 描述了解有哪些 Skills 可用</li>
<li class=""><strong>激活阶段</strong>：Agent 请求触发 Skill Tool，传入 <code>skill_name</code>，Skill 被激活，其 Tools 加入可用列表</li>
<li class=""><strong>执行阶段</strong>：模型使用激活 Skills 提供的 Tools 完成任务</li>
</ol>
<p>这种设计保留了 Claude Skills 渐进式披露的核心理念，同时适配了 AI SDK 的 Tool 机制。</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=动态工具切换实现>动态工具切换实现<a href=#动态工具切换实现 class=hash-link aria-label=动态工具切换实现的直接链接 title=动态工具切换实现的直接链接 translate=no>​</a></h3>
<p>AI SDK 提供了 <code>prepareStep</code> hook，可以在 Agent loop 的每个步骤中动态调整激活的工具集。这正好满足 Skills 激活后需要动态扩展可用工具的需求：</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"> streamText </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>from</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'ai'</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> result </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>ToolLoopAgent</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  model</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"anthropic/claude-sonnet-4.5"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  messages</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> conversationHistory</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  tools</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// 基础工具始终可用</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token operator" style=color:#393A34>...</span><span class="token constant" style=color:#36acaa>BASE_TOOLS</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Skill Tool 用于发现和激活 Skills</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    skill</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> skillTool</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// 所有 Skills 的 Tools 都注册在这里，但通过 activeTools 控制可见性</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token operator" style=color:#393A34>...</span><span class="token plain">skillRegistry</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getAllSkillsToolSets</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token comment" style=color:#999988;font-style:italic>// 动态控制哪些工具对模型可见</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token function-variable function" style=color:#d73a49>prepareStep</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>...</span><span class="token plain">args</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      activeTools</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// 基础工具始终激活</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token operator" style=color:#393A34>...</span><span class="token plain">Object</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>keys</span><span class="token punctuation" style=color:#393A34>(</span><span class="token constant" style=color:#36acaa>BASE_ACTIVE_TOOLS</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// 根据当前激活的 Skills 动态添加其 Tools</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token operator" style=color:#393A34>...</span><span class="token plain">skillRegistry</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>getAvailableTools</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">      </span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br/></span></code></pre></div></div>
<p>在这个实现中：</p>
<ul>
<li class=""><strong>注册阶段</strong>：所有可能的 Tools（包括所有 Skills 的 Tools）都注册到 <code>tools</code> 参数中</li>
<li class=""><strong>控制阶段</strong>：<code>prepareStep</code> 在每次模型调用前执行，根据当前激活的 Skills 返回 <code>activeTools</code> 列表</li>
<li class=""><strong>隔离阶段</strong>：未激活 Skills 的 Tools 对模型不可见，避免上下文污染</li>
</ul>
<p>这正是 Skills 渐进式披露策略的技术实现——模型只能看到已激活 Skills 的工具，而非全部。</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=整体架构>整体架构<a href=#整体架构 class=hash-link aria-label=整体架构的直接链接 title=整体架构的直接链接 translate=no>​</a></h3>
<!-- -->
<ol>
<li class=""><strong>初始化阶段</strong>：Skills 从存储中加载，注册到 Skill Registry，VFS 完成初始化</li>
<li class=""><strong>技能发现阶段</strong>：Agent 理解用户需求，通过 Skill Tool 发现并激活特定 Skill，获取该 Skill 的指令（<em>SKILL.md</em>）、参考文档（<em>references/</em>）和工具集</li>
<li class=""><strong>执行阶段</strong>：模型阅读 Skill 指令和参考文档，通过虚拟 Bash 操作虚拟文件系统，并调用相关 Tools 完成具体任务</li>
<li class=""><strong>响应阶段</strong>：执行结果返回给模型，对话继续进行，或根据上下文激活其他 Skills</li>
</ol>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=上下文管理的必要性>上下文管理的必要性<a href=#上下文管理的必要性 class=hash-link aria-label=上下文管理的必要性的直接链接 title=上下文管理的必要性的直接链接 translate=no>​</a></h3>
<p>当然，仅为 Agent 引入 Skills 插件扩展能力还不够，上下文管理同样关键。<em>SKILL.md</em> 中可能包含大量的指令、参考文档和示例代码，一个复杂的 Skill 完全可能占据数万字的上下文空间。如果没有有效的上下文管理策略，激活几个 Skills 就会导致上下文溢出。</p>
<p>在 Web 环境中，可以考虑以下策略来缓解这一问题：</p>
<ul>
<li class=""><strong>Token 预算控制</strong>：在激活 Skill 前估算其大致的 Token 占用，确保总上下文在安全范围内</li>
<li class=""><strong>动态卸载</strong>：当某个 Skill 的任务完成后，及时将其从激活状态移除，释放上下文空间</li>
<li class=""><strong>内容摘要</strong>：对于大型参考文档，可以先提取关键摘要加载到上下文中，而非全文注入</li>
<li class=""><strong>对话压缩</strong>：当对话历史过长时，对早期消息进行摘要压缩，保留关键信息的同时节省空间</li>
</ul>
<p>这些策略与渐进式披露相结合，才能在 Web 环境中真正发挥 Skills 架构的优势。</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=结语>结语<a href=#结语 class=hash-link aria-label=结语的直接链接 title=结语的直接链接 translate=no>​</a></h2>
<p>至此，在 Web 环境中为 Agent 添加类似 Claude Skills 的扩展能力基本实现。通过虚拟文件系统替代本地文件系统，通过 AI SDK Tool 机制替代脚本执行，我们成功将原本依赖本地环境的 Skills 架构迁移到了浏览器中。</p>
<p>这个过程也让我们对插件模式有了更深的理解：Skills 本质上解决的是能力边界的扩展问题——在不修改核心系统的前提下，动态地为 Agent 注入新的知识和工具。同时，这也引发了对 LLM 服务如何与外部资源交互的思考：从最初的 Function Call 到 MCP，再到现在的 Skills，本质上都是在探索如何让模型更安全、更高效地调用外部能力。</p>
<p>Web 环境的 Agent 开发仍在快速演进中，期待更多类似的架构创新能够打破环境限制，让强大的 AI 能力在各种场景下都能发挥作用。</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=参考>参考<a href=#参考 class=hash-link aria-label=参考的直接链接 title=参考的直接链接 translate=no>​</a></h2>
<ul>
<li class=""><a href=https://agentskills.io/ target=_blank rel="noopener noreferrer" class="">Agents Skills</a></li>
<li class=""><a href=https://simonwillison.net/2025/Oct/16/claude-skills/ target=_blank rel="noopener noreferrer" class="">Claude Skills are awesome, maybe a bigger deal than MCP</a></li>
<li class=""><a href=https://ai-sdk.dev/ target=_blank rel="noopener noreferrer" class="">Vercel AI SDK</a></li>
<li class=""><a href=https://vercel.com/blog/how-to-build-agents-with-filesystems-and-bash target=_blank rel="noopener noreferrer" class="">How to build agents with filesystems and bash</a></li>
</ul></div><footer class=docusaurus-mt-lg><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class=col><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/tags/ai>AI</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/tags/agent>Agent</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/tags/vercel-ai-sdk>Vercel AI SDK</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/tags/claude-skills>Claude Skills</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/tags/web开发>Web开发</a><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/tags/架构设计>架构设计</a></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href=https://github.com/wang1212/wang1212.github.io/tree/master/blog/computer-technology/ai/2026-01-31-web-agent-claude-skill.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label=博文分页导航><a class="pagination-nav__link pagination-nav__link--next" href=/2025/12/07/awesome/build-agent><div class=pagination-nav__sublabel>较旧一篇</div><div class=pagination-nav__label>精选资源：构建生产级 AI Agent</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#agent-的插件机制 class="table-of-contents__link toc-highlight">Agent 的插件机制</a><li><a href=#claude-skills-的环境依赖 class="table-of-contents__link toc-highlight">Claude Skills 的环境依赖</a><ul><li><a href=#web-环境的替代方案 class="table-of-contents__link toc-highlight">Web 环境的替代方案</a></ul><li><a href=#插件机制设计 class="table-of-contents__link toc-highlight">插件机制设计</a><ul><li><a href=#skills-作为元工具 class="table-of-contents__link toc-highlight">Skills 作为元工具</a><li><a href=#skill-registry-设计 class="table-of-contents__link toc-highlight">Skill Registry 设计</a><li><a href=#调用流程 class="table-of-contents__link toc-highlight">调用流程</a><li><a href=#动态工具切换实现 class="table-of-contents__link toc-highlight">动态工具切换实现</a><li><a href=#整体架构 class="table-of-contents__link toc-highlight">整体架构</a><li><a href=#上下文管理的必要性 class="table-of-contents__link toc-highlight">上下文管理的必要性</a></ul><li><a href=#结语 class="table-of-contents__link toc-highlight">结语</a><li><a href=#参考 class="table-of-contents__link toc-highlight">参考</a></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>关于我</div><ul class="footer__items clean-list"><li class=footer__item><a href=mailto:mrwang1212@126.com target=_blank rel="noopener noreferrer" class=footer__link-item>Email<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/wang1212 target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://gitee.com/i_wang1212 target=_blank rel="noopener noreferrer" class=footer__link-item>Gitee<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>更多</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://wang1212.github.io/awesome-favorites-list target=_blank rel="noopener noreferrer" class=footer__link-item>Awesome Favorites List<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://wang1212.github.io/the-book-of-ruby target=_blank rel="noopener noreferrer" class=footer__link-item>The Book Of Ruby (ZH)<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://wang1212.github.io/echarts-api-docs target=_blank rel="noopener noreferrer" class=footer__link-item>Apache ECharts APIs Guide<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2026 My Blog. Built with Docusaurus.</div></div></div></footer></div></body>