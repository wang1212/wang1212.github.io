<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">单元测试工具：Junit | 不如怀念</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://wang1212.github.io/computer-technology/tools/tools-junit"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="单元测试工具：Junit | 不如怀念"><meta data-rh="true" name="description" content="通常一个项目的代码量是比较大的，而且其中逻辑也较为复杂，在开发完成后再进行项目测试其实是比较耗费时间和精力的，因此边开发边测试是个很好的选择，而 JUnit 则为我们提供了这样的便利。"><meta data-rh="true" property="og:description" content="通常一个项目的代码量是比较大的，而且其中逻辑也较为复杂，在开发完成后再进行项目测试其实是比较耗费时间和精力的，因此边开发边测试是个很好的选择，而 JUnit 则为我们提供了这样的便利。"><meta data-rh="true" name="keywords" content="计算机技术,工具,测试,单元测试,Java,JUnit4"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2017-08-30T23:42:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/wang1212"><meta data-rh="true" property="article:tag" content="计算机技术,工具,测试,单元测试,Java,JUnit4"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://wang1212.github.io/computer-technology/tools/tools-junit"><link data-rh="true" rel="alternate" href="https://wang1212.github.io/computer-technology/tools/tools-junit" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://wang1212.github.io/computer-technology/tools/tools-junit" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="不如怀念 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="不如怀念 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.59087ce9.css">
<link rel="preload" href="/assets/js/runtime~main.d9c23a87.js" as="script">
<link rel="preload" href="/assets/js/main.f69b89a9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">不如怀念</b></a><a class="navbar__item navbar__link" href="/archive">归档</a><a class="navbar__item navbar__link" href="/record">记录</a><a class="navbar__item navbar__link" href="/timeline">历程</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wang1212/wang1212.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Source<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">近期文章</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2023/05/28/computer-technology/nodejs/nodejs-loader">通过 Node.js 自定义加载器运行代码</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/computer-technology/web-frontend/api/webgpu-gpgpu">WebGPU – Web 平台的通用计算 API</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/computer-technology/3d/forward-rendering-and-deferred-rendering">3D 开发：正向渲染与延迟渲染</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2023/03/12/life/tourism/tourism-huangshan">黄山之行</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2023/03/05/life/reading/index">速读《设计原本》</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2023/01/25/life/tourism/tourism">疫情结束后第一次出游</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/computer-technology/program-architecture-design/interactive-state-design">交互状态设计：探索 ECharts 与 ZRender 的设计模式</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/computer-technology/3d/web-3d-practical-case-2">Web 3D 开发实践：计算物体在 2D 平面上的像素尺寸</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/computer-technology/tools/tools-docusaurus">探索 Docusaurus 的路由实现</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/computer-technology/web-frontend/web-tips-fonts">Web 字体加载对 DOM 位置的影响</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">单元测试工具：Junit</h1><div class="container_mt6G margin-vert--md"><time datetime="2017-08-30T23:42:00.000Z" itemprop="datePublished">2017年8月30日</time> · <!-- -->阅读需 9 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/wang1212" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="/img/authors/wang1212.png" alt="不如怀念"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/wang1212" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">不如怀念</span></a></div><small class="avatar__subtitle" itemprop="description">Web 前端工程师 (Web Front-end Engineer)</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><blockquote><p><em>最后更新于 2017-08-30 23:42:00</em></p></blockquote><p>通常一个项目的代码量是比较大的，而且其中逻辑也较为复杂，在开发完成后再进行项目测试其实是比较耗费时间和精力的，因此边开发边测试是个很好的选择，而 JUnit 则为我们提供了这样的便利。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="junit">JUnit<a href="#junit" class="hash-link" aria-label="JUnit的直接链接" title="JUnit的直接链接">​</a></h2><p>JUnit 是一个用来对 Java 代码进行单元测试的框架，是 XUnit （一套基于测试驱动开发的测试框架）的一个子集，类似的还有 PythonUnit、CppUnit。</p><p>JUnit 可以帮助我们进行自动化的单元测试，而不需要我们去编写 <code>main</code> 方法逐一测试，同时其使用断言（assert）机制可以将我们预期的结果和程序运行得到结果进行比对，确保对结果的可预知性。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="使用-junit4">使用 JUnit4<a href="#使用-junit4" class="hash-link" aria-label="使用 JUnit4的直接链接" title="使用 JUnit4的直接链接">​</a></h2><p>JUnit 目前已经更新到第 4 个版本，也就是 JUnit4，当然第 5 版也在筹备之中，这里我们使用 Junit4 即可。其实 eclipse 已经集成了 Junit 单元测试框架，我们可以直接使用，而不需要去下载 jar 包导入。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="导入-junit4">导入 JUnit4<a href="#导入-junit4" class="hash-link" aria-label="导入 JUnit4的直接链接" title="导入 JUnit4的直接链接">​</a></h3><p>在 eclipse 中新建一个 Java 项目，然后<kbd>右键</kbd>项目，选择 <strong>Build Path -&gt; Add Libraries</strong> ,然后选择 Junit 即可将其添加到项目中。接下来我们创建一个被测试的类，然后再创建一个测试类用来使用 JUnit4 对被测试类进行单元测试。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="进行测试">进行测试<a href="#进行测试" class="hash-link" aria-label="进行测试的直接链接" title="进行测试的直接链接">​</a></h3><p>Junit4 相对于第 3 个版本来说使用起来更为方便了，只需在测试类的测试方法前面加一个 <code>@Test</code> 注解即可。这里有一个 <code>assertEquals()</code> 方法很有用，其可以帮助我们对程序的期望结果和运行结果进行比对。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void testXXX(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * obj1 : 期望值（我们指定）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * obj2 : 运行值（调用被测试类）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    assertEquals(Object obj1, Object obj2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试代码编写完成后，<strong>Run As -&gt; JUnit Test</strong> 即可，只要出现绿色的状态条则代表我们的测试全部成功，如果为红色说明我们有部分测试失败，在状态条下方的测试结果列表中，每一项前面都会标记出来，测试成功的则为对号，失败的为叉。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="代码规范">代码规范<a href="#代码规范" class="hash-link" aria-label="代码规范的直接链接" title="代码规范的直接链接">​</a></h3><p>需要注意的是，我们应该将测试类和项目被测试类代码分开放置，通常会在项目下 <strong>New -&gt; Source Floder</strong> 命名为 <strong>test</strong> 将测试类代码放入其中，测试类和被测试类的包名应一致，在项目部署时删除这个目录即可。</p><p>另外，测试类的命名应遵循被测试类名加 Test 后缀的规则；而测试类的方法命名应遵循以 test 为前缀加被测试方法名的规则，比如 <code>testXXX()</code>，这样更为规范一些。还有就是，测试方法是公有（public）、无返回值（void）的，并且测试方法之间是相互独立的。</p><p>这里有一个小技巧，通常被测试类的方法会很多，手动编写测试方法耗费时间，我们可以<kbd>右键</kbd>测试类，<strong>New -&gt; Other</strong> 然后选择 <strong>JUnit Test Case</strong>，选中要测试的方法，设置好文件路径即可自动生成一个包含指定测试方法的测试类。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="测试失败分析">测试失败分析<a href="#测试失败分析" class="hash-link" aria-label="测试失败分析的直接链接" title="测试失败分析的直接链接">​</a></h3><p>JUnit 的测试结果是非常直观的，红色状态条代表我们测试失败，其中又分为两种失败类型，分别为 <code>Errors</code> 和 <code>Failures</code>。导致测试失败的原因我们可以在下方的消息栈中看到，其说明了引起测试失败的具体原因。</p><ul><li><p>Errors</p><p>是由于代码异常引起的，可能是测试代码本身的错误，也可能是被测试代码中的错误。</p></li><li><p>Failures</p><p>一般由单元测试的断言方法判断失败所引起的，也就是说程序的运行结果和我们的预期不一样。</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="junit-运行过程">JUnit 运行过程<a href="#junit-运行过程" class="hash-link" aria-label="JUnit 运行过程的直接链接" title="JUnit 运行过程的直接链接">​</a></h2><p>要使用好 JUnit4 这个测试工具，我们应该了解清楚其运行的过程。在 <strong>New -&gt; Other</strong> 新建一个 <strong>JUnit Test Case</strong> 类时，可以勾选四个自动生成的方法：</p><ul><li><p>setUpBeforeClass()</p><p><code>@BeforeClass</code> 标注的静态方法，测试类加载时运行一次，适合加载配置文件。</p></li><li><p>tearDownAfterClass()</p><p><code>@AfterClass</code> 标注的静态方法，所有测试方法执行完成时运行一次，适合清理资源，例如关闭数据库连接。</p></li><li><p>setUp()</p><p><code>@Before</code> 标注的实例方法，每个测试方法执行前运行一次。</p></li><li><p>tearDown()</p><p><code>@After</code> 标注的实例方法，每个测试方法执行后运行一次。</p></li></ul><p>以上四个方法可以帮助我们更好的进行单元测试，当然前提是这些方法运行的时机和作用我们应该知道。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="junit-常用注解">JUnit 常用注解<a href="#junit-常用注解" class="hash-link" aria-label="JUnit 常用注解的直接链接" title="JUnit 常用注解的直接链接">​</a></h2><ul><li>@Test</li><li>@BeforeClass</li><li>@AfterClass</li><li>@Before</li><li>@After</li><li>@Ignore</li><li>@RunWith</li></ul><p><code>@Test</code> 注解标注一个方法为测试方法，除此之外我们还可以设置要捕获的异常和测试时间。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * expected : 表明我们预期会发生的异常，使其不影响测试结果，类似于 throws 关键字</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * timeout : 指定测试的时间（ms），可以用来测试程序性能</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Test(expected=ArithmeticException.class, timeout=2000)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>@Ignore</code> 注解标注一个测试方法被运行器忽略，同时可以标识一些忽略信息。<code>@RunWith</code> 注解用来更改测试运行器。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="junit-深入使用">JUnit 深入使用<a href="#junit-深入使用" class="hash-link" aria-label="JUnit 深入使用的直接链接" title="JUnit 深入使用的直接链接">​</a></h2><p>会利用 JUnit 进行基本的单元测试或许已经满足了我们的需求，然而 JUnit 为我们提供了更加便利的工具。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="测试套件">测试套件<a href="#测试套件" class="hash-link" aria-label="测试套件的直接链接" title="测试套件的直接链接">​</a></h3><p>测试套件是用来同时测试一整套测试类的，<strong>New -&gt; Other</strong> 然后 <strong>JUnit Test Suite</strong> 即可创建一个测试套件。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 测试套件类</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@RunWith(Suite.class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@SuiteClasses({ taskTest1.class, taskTest2.class })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AllTests { }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在创建测试套件时可以勾选需要包含进来的测试类或者测试套件，当然也可以在 <code>@SuiteClasses</code> 注解中手动添加。要注意的是测试套件类必须是一个空类，不能包含任何方法；其次要使用 <code>@RunWith</code> 注解将运行器修改为 <code>Suite.class</code>。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="参数化设置">参数化设置<a href="#参数化设置" class="hash-link" aria-label="参数化设置的直接链接" title="参数化设置的直接链接">​</a></h3><p>参数化设置可以帮助我们提高代码的重用度，减少类似的代码编写工作量。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//被测试类</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Calculate {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 除法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int divide(int a, int b){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return a/b;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 参数化设置的测试类</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@RunWith(Parameterized.class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ParameterTest {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 参数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int expected, input1, input2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 用来返回一组参数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Parameters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static Collection&lt;Object[]&gt; params(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return Arrays.asList(new Object[][]{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {1,2,2},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {3,9,3},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {25, 625, 25}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 构造器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ParameterTest(int expected, int input1, int input2) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.expected = expected;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.input1 = input1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.input2 = input2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 测试方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void testDivide() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        assertEquals(expected, new Calculate().divide(input1, input2));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>参数化设置的测试类要使用 <code>@RunWith</code> 注解将运行器修改为 <strong>Parameterized.class</strong>。该类中要声明变量来存放预期值和结果值，声明一个 <code>@Parameters</code> 注解标注的返回值为 <code>Collection</code> 的公共静态方法来返回一组参数值，其次还要声明一个带参数的构造方法。</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/计算机技术">计算机技术</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/工具">工具</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/测试">测试</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/单元测试">单元测试</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/java">Java</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/j-unit-4">JUnit4</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/wang1212/wang1212.github.io/tree/master/blog/computer-technology/tools/tools-junit.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="博文分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/computer-technology/java-web/web-java-l-f-s"><div class="pagination-nav__sublabel">较新一篇</div><div class="pagination-nav__label">监听器、过滤器、Servlet</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/computer-technology/java-web/web-java-jsp"><div class="pagination-nav__sublabel">较旧一篇</div><div class="pagination-nav__label">JSP 内置对象、指令与动作</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#junit" class="table-of-contents__link toc-highlight">JUnit</a></li><li><a href="#使用-junit4" class="table-of-contents__link toc-highlight">使用 JUnit4</a><ul><li><a href="#导入-junit4" class="table-of-contents__link toc-highlight">导入 JUnit4</a></li><li><a href="#进行测试" class="table-of-contents__link toc-highlight">进行测试</a></li><li><a href="#代码规范" class="table-of-contents__link toc-highlight">代码规范</a></li><li><a href="#测试失败分析" class="table-of-contents__link toc-highlight">测试失败分析</a></li></ul></li><li><a href="#junit-运行过程" class="table-of-contents__link toc-highlight">JUnit 运行过程</a></li><li><a href="#junit-常用注解" class="table-of-contents__link toc-highlight">JUnit 常用注解</a></li><li><a href="#junit-深入使用" class="table-of-contents__link toc-highlight">JUnit 深入使用</a><ul><li><a href="#测试套件" class="table-of-contents__link toc-highlight">测试套件</a></li><li><a href="#参数化设置" class="table-of-contents__link toc-highlight">参数化设置</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://github.com/wang1212/awesome-favorites-list" target="_blank" rel="noopener noreferrer" class="footer__link-item">收藏列表<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://wang1212.github.io/the-book-of-ruby/" target="_blank" rel="noopener noreferrer" class="footer__link-item">The Book Of Ruby(zh)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="mailto:mrwang1212@126.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://github.com/wang1212" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://gitee.com/i_wang1212" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Blog. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d9c23a87.js"></script>
<script src="/assets/js/main.f69b89a9.js"></script>
</body>
</html>